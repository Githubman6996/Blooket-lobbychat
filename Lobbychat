javascript:function reactHandler(){return Object.values(document.querySelector('body div[class*="camelCase"]'))[1].children[0]._owner}var j=0;function sendMessage(e){reactHandler().stateNode.props.liveGameController.setVal({id:reactHandler().stateNode.props.client.hostId,path:"c/"+reactHandler().stateNode.props.client.name,val:{b:reactHandler().stateNode.props.client.blook,i:j,msg:e}}),j++}const c=document.createElement("div");c.className="chat-box",document.body.appendChild(c);const h=document.createElement("div");h.className="chat-header",h.textContent="Chat",c.appendChild(h);const b=document.createElement("div");b.className="chat-body",c.appendChild(b);const i=document.createElement("input");function a(e){const t=document.createElement("div");t.textContent=e,b.appendChild(t)}i.type="text",i.className="chat-input",i.placeholder="Type a message...",c.appendChild(i),c.style.position="fixed",c.style.bottom="20px",c.style.right="20px",c.style.width="300px",c.style.backgroundColor="#fff",c.style.border="1px solid #ccc",c.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.2)",h.addEventListener("click",(()=>{b.classList.toggle("open")})),i.addEventListener("keydown",(function(e){13===e.keyCode&&(sendMessage(e.srcElement.value),e.srcElement.value="")}));var da=reactHandler().stateNode.props.liveGameController._liveApp.database()._delegate._repoInternal.server_.onDataUpdate_;function handleChat(e,t){t.msg&&(console.log(t.msg),a(e.split("/")[2]+": "+t.msg))}reactHandler().stateNode.props.liveGameController._liveApp.database()._delegate._repoInternal.server_.onDataUpdate_=function(e,t,a,n){console.log(e,t,a,n),handleChat(e,t),da(e,t,a,n)};
